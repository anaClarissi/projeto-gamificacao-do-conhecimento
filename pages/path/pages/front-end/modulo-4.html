<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Módulo 4 — JavaScript Avançado</title>
    
    <!-- Swiper -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@12/swiper-bundle.min.css"/>

    <!-- JQuery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"/>

    <!-- Google Fonts Icons -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" />

    <!-- CSS do módulo -->
    <link rel="stylesheet" href="../../css/modulo.css">

</head>

<body>

    <header>
        
        <nav id="nav-bar">

            <span id="nav-logo">

                <img src="" alt="" >
                
                Informática Manhã

            </span>

            <ul id="nav-list">

                <li class="nav-item">
                    
                    <a href="../../../landing/home.html#home">Início</a>

                </li>

                <li class="nav-item active">
                    
                    <a href="../../../landing/home.html#path">Trilhas</a>

                </li>

                <li class="nav-item">
                    
                    <a href="../../../landing/home.html#profession">Profissões</a>

                </li>

                <li class="nav-item">
                    
                    <a href="../../../landing/home.html#quizzes">Quizzes</a>

                </li>

                <li class="nav-item">
                    
                    <a href="../../../landing/home.html#games">Jogos</a>

                </li>

            </ul>

            <button class="btn-default user">

                <i class="fa-solid fa-user"></i>
                <span class="user-name">Area do Aluno</span>

            </button>

            <button id="mobile-btn">

                <i class="fa-solid fa-bars"></i>

            </button>

        </nav>

        <div id="user-menu">

            <ul id="user-nav-list">

                <li class="user-item">
                    
                    <a href="">Conquistas</a>

                </li>

                <li class="user-item">
                    
                    <a href="">Pontos</a>

                </li>

                <li class="user-item">
                    
                    <a href="">Minha Conta</a>

                </li>

                <li class="user-item">
                    
                    <a href="">Sair</a>

                </li>

            </ul>

            

        </div>

        <div id="mobile-menu">

            <ul id="mobile-nav-list">

                <li class="nav-item">
                    
                    <a href="../../../landing/home.html#home">Início</a>

                </li>

                <li class="nav-item">
                    
                    <a href="../../../landing/home.html#path">Trilhas</a>

                </li>

                <li class="nav-item">
                    
                    <a href="../../../landing/home.html#profession">Profissões</a>

                </li>

                <li class="nav-item">
                    
                    <a href="../../../landing/home.html#quizzes">Quizzes</a>

                </li>

                <li class="nav-item">
                    
                    <a href="../../../landing/home.html#games">Jogos</a>

                </li>

            </ul>

            

        

    </header>

    <main class="module-container">

        <div class="module-header">
            <img class="module-image" src="../../../landing/images/path/front-end.svg" alt="">
            <h1 class="section-title">Front End</h1>
        </div>
        
        <section class="module-type">
            <h1 class="section-subtitle">Módulo 4 — JavaScript Avançado</h1>
            <p class="module-description">
                Este módulo aprofunda os conceitos essenciais para você escrever códigos mais organizados, inteligentes e profissionais em JavaScript. Aqui você entenderá como lidar com listas, textos, funções mais poderosas, organização do código e o funcionamento assíncrono do JavaScript — um dos temas mais importantes quando falamos de sites modernos.
            </p>
        </section>

        <section class="module-arrows">

            <a href="modulo-3.html">
                <div class="area-arrows">
                    <img src="../../imagens/arrow_back_ios_25dp_46FFA8_FILL0_wght400_GRAD0_opsz24.svg
                    " alt="" class="arrows">
                </div>
            </a>

            <a href="modulo-5.html">
                <div class="area-arrows"><img src="../../imagens/arrow_forward_ios_25dp_46FFA8_FILL0_wght400_GRAD0_opsz24.svg" alt="" class="arrows"></div>
            </a>

        </section>

        <section class="module-section">
            <h2>1. Arrays Avançados</h2>
            <p>Arrays (listas) aparecem em praticamente todo site real.</p>
            <p>Aqui, você vai aprender métodos modernos que agilizam o tratamento de dados:</p>

            <ul>
                <li> 
                    <strong>map() — transforma itens</strong>
                    <p>Exemplo: gerar uma nova lista dobrando valores.</p>
                    <div class="area-tags">
                        <p class="pequeno">js</p>
                        <p class="codigo">

                            <span class="variavel">const</span> numeros = [<span class="valor">1</span>,
                            <span class="valor">2</span>,
                            <span class="valor">3</span>];
                            <br>

                            <span class="variavel">const</span> dobro = numeros.<span class="funcao">map</span>(n => n * 2);

                        </p>
                    </div>
                </li>

                <li> 
                    <strong>filter() — filtra itens</strong>
                    <p>Exemplo: pegar somente maiores que 10.</p>
                    <div class="area-tags">
                        <p class="pequeno">js</p>
                        <p class="codigo">
                            <span class="variavel">const</span> valores = [<span class="valor">4</span>,
                            <span class="valor">12</span>,
                            <span class="valor">8</span>,
                            <span class="valor">20</span>];
                            <br>
                            <span class="variavel">const</span> maiores = valores.<span class="funcao">filter</span>(v => v > <span class="valor">10</span>);

                        </p>
                    </div>
                </li>

                <li> 
                    <strong>reduce() — reduz a um único valor</strong>
                    <p>Exemplo: somar todos os itens.</p>
                    <div class="area-tags">
                        <p class="pequeno">js</p>
                        <p class="codigo">
                            <span class="variavel">const</span> total = valores.<span class="funcao">resduce</span>((acc, val) => acc + val, <span class="valor">0</span>);
                        </p>
                    </div>
                </li>
            </ul>
            <p>Esses métodos são essenciais para trabalhar com dados dinâmicos em sites modernos.</p>
            
        </section>

        <section class="module-section">
            <h2>2. Objetos e Manipulação de Estruturas</h2>

            <p>Objetos e Manipulação de Estruturas</p>

            <h3>Criando um objeto:</h3>
            <div class="area-tags">

                <p class="pequeno">js</p>

                <p class="codigo">
                    <span class="variavel">const</span> usuario = { <br>
                        <span style="margin-left: 40px;" class="valor">nome:</span> "Ana", <br>
                        <span style="margin-left: 40px;" class="valor">idade: </span> 17, <br>
                        <span style="margin-left: 40px;" class="valor">logado: </span>false; <br>
                    };
                </p>

            </div>

            <h3>Acessando propriedades:</h3>
            <div class="area-tags">

                <p class="pequeno">js</p>

                <p class="codigo">

                    <span class="valor">console.</span>log(usuario.nome);

                </p>

            </div>

            <h3>Alterando dados:</h3>
            <div class="area-tags">

                <p class="pequeno">js</p>

                <p class="codigo">

                    usuario.logado = true;

                </p>

            </div>

            <h3>Objetos dentro de arrays (muito usado!):</h3>
            <div class="area-tags">

                <p class="pequeno">js</p>

                <p class="codigo">

                    <span class="variavel">const</span> produtos = [ <br>

                        <span style="margin-left: 40px;">{ <span class="valor">id</span>: 1,<span class="valor">nome</span>: "Mouse", <span class="valor">preco</span>: 40 }</span>, <br>
                        <span style="margin-left: 40px;">{<span class="valor">id</span>: 2, <span class="valor">nome</span>: "Teclado", <span class="valor">preco</span>: 80}</span> <br>

                    ];

                </p>

            </div>
            
        </section>

        <section class="module-section">
            <h2>3. Funções Avançadas</h2>
            pAs funções são o coração da programação.

            <h3>Arrow Functions</h3>
            <p>Forma curta e moderna:</p>
            <div class="area-tags">

                <p class="pequeno">js</p>

                <p class="codigo">

                    <span class="variavel">const</span> <span class="funcao">soma</span> = (a, b) => a + b;

                </p>

            </div>

            <h3>Callbacks</h3>
            <p>Uma função usada dentro de outra:</p>

            <div class="area-tags">

                <p class="pequeno">js</p>
                <p class="codigo">

                    <span class="variavel">function</span> <span class="funcao">executar</span>(callbak) { <br>
                        <span style="margin-left: 40px;" class="funcao">callback</span>(); <br>
                    }
                    <br>
                    <br>
                    <span class="funcao">executar</span>() => <span class="valor">console.</span>log("Rodou!");

                </p>
            </div>

            <h3>Parâmetros padrão</h3>
            <div class="area-tags">

                <p class="pequeno">js</p>
                <p class="codigo">

                    <span class="variavel">function</span> <span class="funcao">saudacao</span>(nome = "Visitante") { <br>
                        <span style="margin-left: 40px;" class="valor">console.</span>log("Olá " + nome); <br>
                    }

                </p>

            </div>
            
        </section>

        <section class="module-section">
            <h2>4. Manipulação Avançada do DOM</h2>
            
            <p>Você já sabe acessar elementos. Agora vamos <strong>criá-los, removê-los e modificá-los dinamicamente</strong>.</p>

            <h3>Criar elementos</h3>
            <div class="area-tags">

                <p class="pequeno">js</p>
                <p class="codigo">

                    <span class="variavel">const</span> div = <span class="valor">document.</span><span class="funcao">createElement</span>("div"); <br>
                    div.textContent = "Olá, mundo!"; <br>
                    <span class="valor">document.</span>body.<span class="funcao">appendChild</span>(div);

                </p>

            </div>

            <h3>Modificar classes</h3>
            <div class="area-tags">

                <p class="pequeno">js</p>
                <p class="codigo">

                    div.classList.<span class="funcao">add</span>("card"); <br>
                    div.classList.<span class="funcao">remove</span>("ativo");

                </p>

            </div>

            <h3>Alterar estilos</h3>
            <div class="area-tags">

                <p class="pequeno">js</p>
                <p class="codigo">
                    div.style.backgroundColor = "lightblue";
                </p>

            </div>

        </section>

        <section class="module-section">
            <h2>5. Eventos e Delegação de Eventos</h2>

            <h3>Eventos diretos</h3>
            <div class="area-tags">

                <p class="pequeno">js</p>
                <p class="codigo">
                    button.<span class="funcao">addEventListener</span>("click", () => { <br>
                        <span style="margin-left: 40px;" class="valor">console.</span>log("Clicou!"); <br>
                    });
                </p>

            </div>

            <h3>Delegação de eventos</h3>
            <p>Técnica profissional para evitar vários listeners.</p>
            <div class="area-tags">

                <p class="pequeno">js</p>
                <p class="codigo">
                    <span class="valor">document.</span><span class="funcao">addEventListener</span>("click", (e) => { <br>
                        <span style="margin-left: 40px;" class="variavel">if</span> (e.target.classList.<span class="funcao">contains</span>("btn")){ <br>
                            <span style="margin-left: 60px;" class="valor">console.</span>log("Botão clicado:", e.target); <br>
                        } <br>
                    });
                </p>

            </div>
        </section>

        <section class="module-section">
            <h2>6. Assíncrono no JavaScript</h2>

            <p>Fundamental para animações, carregamento de dados, APIs e timers.</p>

            <h3>setTimeout</h3>
            <div class="area-tags">
                <p class="pequeno">js</p>
                <p class="codigo">

                    <span class="valor">setTimeout</span>(() => { <br>
                        <span style="margin-left: 40px;" class="valor">console.</span>log("Executou depois de 2s"); <br>
                    }, 2000);

                </p>
            </div>

            <h3>setInterval</h3>
            <div class="area-tags">
                <p class="pequeno">js</p>
                <p class="codigo">

                    <span class="valor">setInterval</span>(() => { <br>
                        <span style="margin-left: 40px;" class="valor">console.</span>log("a cada 1s..."); <br>
                    }, 1000);


                </p>
            </div>

            <h3>Promises</h3>
            <div class="area-tags">
                <p class="pequeno">js</p>
                <p class="codigo">

                    <span class="variavel">const</span> promessa = <span class="variavel">new</span> <span class="funcao">Promise</span>(resolve => { <br>
                        <spam style="margin-left: 40px;" class="valor">setTimeout</spam>(() => <span class="funcao">resolver</span>("Pronto!", 2000)); <br>
                    });

                </p>
            </div>

            <h3>async / await</h3>
            <p>Forma moderna de trabalhar com Promises:</p>
            <div class="area-tags">
                <p class="pequeno">js</p>
                <p class="codigo">

                    <span class="variavel">async function</span> <span class="funcao">carregar</span>() { <br>
                        <span style="margin-left: 40px;" class="variavel">const</span> resultado = <span class="variavel">await</span> promessa; <br>
                        <span style="margin-left: 40px;" class="valor">console.</span>log(resultado); <br>
                    } <br>

                    <span class="funcao">carregar</span>();

                </p>
            </div>

        </section>

        <!--QUESTÕES-->

        <section id="coding-questions"></section>

        <section class="module-arrows">

            <a href="modulo-3.html">
                <div class="area-arrows">
                    <img src="../../imagens/arrow_back_ios_25dp_46FFA8_FILL0_wght400_GRAD0_opsz24.svg
                    " alt="" class="arrows">
                </div>
            </a>

            <a href="modulo-5.html">
                <div class="area-arrows"><img src="../../imagens/arrow_forward_ios_25dp_46FFA8_FILL0_wght400_GRAD0_opsz24.svg" alt="" class="arrows"></div>
            </a>

        </section>

    </main>

    <footer>
        <img src="../../../landing/images/footer/wave.svg" alt="">
        <div id="footer-items">
            <span>&copy 2025 Ana Clarissi</span>
            <div class="social-media-buttons">
                <a href=""><i class="fa-brands fa-whatsapp"></i></a>
                <a href=""><i class="fa-brands fa-instagram"></i></a>
                <a href=""><i class="fa-brands fa-facebook"></i></a>
            </div>
        </div>
    </footer>

    <!--Scripts-->

    <script src="../../../landing/js/usuario.js"></script>

    <script src="../../../landing/js/script.js"></script>

    <script>
        const codingExercises = [
           
            {
                id: 1,
                title: "Use o método map()",
                description: "Crie um array chamado numeros com os valores [1, 2, 3] e use map para gerar um novo array dobrando cada número.",
                expected: `const numeros = [1, 2, 3];
        const dobrados = numeros.map(n => n * 2);`
            },

          
            {
                id: 2,
                title: "Filtre valores com filter()",
                description: "Crie um array idades com [12, 18, 25, 14] e use filter para manter somente maiores de 17.",
                expected: `const idades = [12, 18, 25, 14];
        const maiores = idades.filter(i => i > 17);`
            },

          
            {
                id: 3,
                title: "Some valores com reduce()",
                description: "Crie um array valores com [10, 5, 5] e use reduce para obter a soma total.",
                expected: `const valores = [10, 5, 5];
        const soma = valores.reduce((acc, v) => acc + v, 0);`
            },

         
            {
                id: 4,
                title: "Acesse dados de um objeto",
                description: "Crie um objeto aluno com nome 'Ana' e idade 16. Em seguida, acesse a propriedade nome.",
                expected: `const aluno = { nome: "Ana", idade: 16 };
        aluno.nome;`
            },

          
            {
                id: 5,
                title: "Use desestruturação",
                description: "Com o objeto produto = { nome: 'Mouse', preco: 50 }, use desestruturação para extrair nome e preco.",
                expected: `const produto = { nome: "Mouse", preco: 50 };
        const { nome, preco } = produto;`
            },

          
            {
                id: 6,
                title: "Crie uma arrow function simples",
                description: "Crie uma arrow function chamada saudacao que retorna 'Olá!'",
                expected: `const saudacao = () => "Olá!";`
            },

          
            {
                id: 7,
                title: "Use uma função callback",
                description: "Crie uma função executar que recebe uma função e a chama. Depois, chame executar passando uma função que mostra 'Rodando!'.",
                expected: `function executar(func) {
            func();
        }
        executar(() => console.log("Rodando!"));`
            },

          
            {
                id: 8,
                title: "Modifique o texto de um elemento",
                description: "Use document.getElementById para mudar o texto de um elemento com id 'titulo' para 'Novo título'.",
                expected: `document.getElementById("titulo").textContent = "Novo título";`
            },

          
            {
                id: 9,
                title: "Adicione um evento de clique",
                description: "Adicione um evento de clique em um botão com id 'btn' que mostra 'Clicou!' no console.",
                expected: `document.getElementById("btn").addEventListener("click", () => {
            console.log("Clicou!");
        });`
            },

           
            {
                id: 10,
                title: "Crie uma função assíncrona",
                description: "Crie uma função assíncrona chamada carregarDados que retorna a string 'Dados carregados'.",
                expected: `async function carregarDados() {
            return "Dados carregados";
        }`
            }
        ];


        // Função que renderiza as questões
        const renderExercises = () => {
            const container = document.getElementById("coding-questions");

            codingExercises.forEach(ex => {
                container.innerHTML += `
                    <div class="exercise-box">
                        <h3>${ex.id}. ${ex.title}</h3>
                        <p>${ex.description}</p>

                        <textarea id="answer-${ex.id}" placeholder="Escreva seu código aqui..."></textarea>

                        <button class="btn-default" onclick="checkAnswer(${ex.id})">Verificar Resposta</button>

                        <div id="result-${ex.id}" class="result"></div>
                    </div>
                `;
            });
        }

        const normalizeCode = (code) => {
            if (!code) return "";
            
            code = code.replace(/\/\*[\s\S]*?\*\//g, "").replace(/\/\/.*$/gm, "");
        
            code = code.replace(/\r\n/g, "\n").replace(/\n+/g, " ").replace(/\s+/g, " ").trim();
           
            code = code.replace(/\s*([\=\+\-\*\/%<>!,\:\(\)\{\}\[\]\|&])\s*/g, "$1");
            
            code = code.replace(/;+/g, "");
            return code;
        }

        // Função que compara a resposta do aluno
        const checkAnswer = (id) => {

            const question = codingExercises.find(q => q.id === id);

            const studentRaw = document.getElementById(`answer-${id}`).value || "";

            const studentNormalized = normalizeCode(studentRaw);

            const expectedNormalized = normalizeCode(question.expected);

            const resultBox = document.getElementById(`result-${id}`);

            if (studentNormalized === expectedNormalized) {

                resultBox.innerHTML = "<span class='correct'>✔ Correto!</span>";

            } else {
                
                resultBox.innerHTML = `
                    <span class='wrong'>✘ Resposta incorreta</span>
                    <br><strong>Exemplo esperado (formatado):</strong>
                    <pre style="white-space:pre-wrap; background:#f7f7f7; padding:8px; border-radius:4px;">${question.expected.replace(/</g, "&lt;")}</pre>
                    <details><summary>O que foi enviado (normalizado)</summary><pre style="white-space:pre-wrap;">${studentNormalized.replace(/</g,"&lt;")}</pre></details>
                `;
            }
        }

        renderExercises();

    </script>


</body>

</html>
